<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>AJAX All-in-One Example</title>
    <style>
      body {
        font-family: Arial;
        line-height: 1.7;
        margin: 20px;
      }
      h2 {
        margin-top: 40px;
        color: #222;
      }
      .box {
        padding: 10px;
        border: 1px solid #bbb;
        margin-top: 10px;
      }
      table {
        border-collapse: collapse;
        margin-top: 10px;
      }
      td,
      th {
        border: 1px solid #444;
        padding: 5px;
      }
    </style>
  </head>
  <body>
    <h1>AJAX All-in-One (ì‹œí—˜ìš© ì •ë¦¬)</h1>
    <p>AJAX PDFì˜ ëª¨ë“  ì˜ˆì œ + ê°œë…ì„ í•˜ë‚˜ë¡œ í†µí•©</p>

    <!-- ================================================================= -->
    <!-- 1. AJAX ê¸°ë³¸ ê°œë… -->
    <!-- ================================================================= -->
    <h2>1. AJAX ê¸°ë³¸ ì •ì˜</h2>

    <div class="box">
      AJAX = Asynchronous JavaScript And XML<br />
      XMLHttpRequest(XHR) ê°ì²´ + JS + DOMì„ ì´ìš©í•´<br />
      <strong>í˜ì´ì§€ ì „ì²´ ìƒˆë¡œê³ ì¹¨ ì—†ì´ ì„œë²„ì™€ ë°ì´í„° í†µì‹ </strong>ì´
      ê°€ëŠ¥í•˜ë‹¤.<br />
      ( PDF page 2â€“3 ë‚´ìš© ê¸°ë°˜ )
    </div>

    <!-- ================================================================= -->
    <!-- 2. AJAX ë™ì‘ íë¦„ë„ -->
    <!-- ================================================================= -->
    <h2>2. AJAX ë™ì‘ íë¦„</h2>
    <p>ğŸ“Œ ì´ë²¤íŠ¸ â†’ XHR ìƒì„± â†’ ì„œë²„ ìš”ì²­ â†’ ì‘ë‹µ ìˆ˜ì‹  â†’ DOM ì—…ë°ì´íŠ¸</p>
    <p>PDF page 4 ì°¸ê³  (ë¸Œë¼ìš°ì € â†” ì„œë²„ íë¦„ë„)</p>

    <!-- ================================================================= -->
    <!-- 3. ê°€ì¥ ê¸°ë³¸ì ì¸ AJAX ì˜ˆì œ (ajax_info.txt ë¡œë”©) -->
    <!-- ================================================================= -->
    <h2>3. ê°€ì¥ ê¸°ë³¸ì ì¸ AJAX ì˜ˆì œ</h2>

    <div id="basicDemo" class="box">
      <h3>ì—¬ê¸°ë¥¼ AJAXë¡œ ë³€ê²½í•  ì˜ˆì •</h3>
    </div>

    <button onclick="loadBasic()">ê¸°ë³¸ AJAX ìš”ì²­ ì‹¤í–‰</button>

    <script>
      function loadBasic() {
        // 1. XHR ê°ì²´ ìƒì„±
        var xhttp = new XMLHttpRequest();

        // 2. ì‘ë‹µì„ ì²˜ë¦¬í•˜ëŠ” ì½œë°± í•¨ìˆ˜ ì„¤ì •
        xhttp.onreadystatechange = function () {
          // readyState == 4 : ìš”ì²­/ì‘ë‹µ ê³¼ì • ëª¨ë‘ ì™„ë£Œ
          // status == 200 : ì„œë²„ ì‘ë‹µ ì„±ê³µ
          if (this.readyState == 4 && this.status == 200) {
            // 3. ì‘ë‹µ ë°ì´í„°ë¥¼ DOMì— ì¶œë ¥
            document.getElementById("basicDemo").innerHTML = this.responseText;
          }
        };

        // 4. GET ë°©ì‹ ìš”ì²­ ì¤€ë¹„ (ë¹„ë™ê¸° true)
        xhttp.open("GET", "ajax_info.txt", true);

        // 5. ìš”ì²­ ì „ì†¡
        xhttp.send();
      }
    </script>

    <p>ğŸ“Œ ajax_info.txt ì˜ˆì‹œ íŒŒì¼ ë‚´ìš© (PDF page 8)</p>
    <pre class="box">
<h1>AJAX</h1>
<p>AJAX is not a programming language.</p>
<p>AJAX is a technique for accessing web servers from a web page.</p>
<p>AJAX stands for Asynchronous JavaScript And XML.</p>
</pre>

    <!-- ================================================================= -->
    <!-- 4. readyState / status ì •ë¦¬ -->
    <!-- ================================================================= -->
    <h2>4. readyState / status ì •ë¦¬</h2>

    <div class="box">
      <strong>readyState ê°’</strong> (PDF page 10)<br />
      0 : ìš”ì²­ ì¤€ë¹„ ì•ˆë¨<br />
      1 : ì„œë²„ ì—°ê²°ë¨<br />
      2 : ìš”ì²­ ìˆ˜ì‹ ë¨<br />
      3 : ìš”ì²­ ì²˜ë¦¬ ì¤‘<br />
      4 : ìš”ì²­ ì²˜ë¦¬ ì™„ë£Œ + ì‘ë‹µ ì¤€ë¹„ë¨<br /><br />

      <strong>status ê°’</strong><br />
      200 : OK<br />
      403 : Forbidden<br />
      404 : Not Found<br />
    </div>

    <!-- ================================================================= -->
    <!-- 5. XHR ë©”ì„œë“œ ì •ë¦¬ -->
    <!-- ================================================================= -->
    <h2>5. XHR ì£¼ìš” ë©”ì„œë“œ</h2>

    <div class="box">
      open(method, url, async)<br />
      send()<br />
      send(string) â€” POST ë°©ì‹<br />
      abort() â€” ìš”ì²­ ì·¨ì†Œ<br />
      (PDF page 11)
    </div>

    <!-- ================================================================= -->
    <!-- 6. GET / POST ì°¨ì´ -->
    <!-- ================================================================= -->
    <h2>6. GET vs POST</h2>

    <div class="box">
      GET = ë‹¨ìˆœ ì¡°íšŒ, ë¹ ë¦„<br />
      POST = ë§ì€ ë°ì´í„°, ë³´ì•ˆ í•„ìš”, ìºì‹œ ì‚¬ìš© X<br />
      (PDF page 12)
    </div>

    <!-- ================================================================= -->
    <!-- 7. ë™ê¸°ì‹ ìš”ì²­ ì˜ˆì œ (async=false) -->
    <!-- ================================================================= -->
    <h2>7. ë™ê¸°ì‹ ìš”ì²­ (async=false)</h2>

    <button onclick="loadSync()">ë™ê¸°ì‹ ìš”ì²­ ì‹¤í–‰</button>
    <div id="syncDemo" class="box">ë™ê¸°ì‹ ì‘ë‹µì´ ì—¬ê¸°ì— í‘œì‹œë¨</div>

    <script>
      function loadSync() {
        var xhttp = new XMLHttpRequest();

        // async=false â†’ ìš”ì²­ ì™„ë£Œê¹Œì§€ JS ì‹¤í–‰ì´ ë©ˆì¶¤
        xhttp.open("GET", "ajax_info.txt", false);
        xhttp.send();

        document.getElementById("syncDemo").innerHTML = xhttp.responseText;
      }
    </script>

    <!-- ================================================================= -->
    <!-- 8. XML íŒŒì‹±í•˜ê¸° (responseXML) -->
    <!-- ================================================================= -->
    <h2>8. responseXML ì‚¬ìš© (XML íŒŒì‹±)</h2>

    <p>PDF page 14â€“17 ì˜ˆì œ ê¸°ë°˜</p>

    <button onclick="loadXML()">XML ë¡œë”©</button>
    <div id="xmlResult" class="box">XML ë°ì´í„°ê°€ ì—¬ê¸°ì— í‘œì‹œë¨</div>

    <script>
      function loadXML() {
        var xhttp = new XMLHttpRequest();

        xhttp.onreadystatechange = function () {
          if (this.readyState == 4 && this.status == 200) {
            // XML DOM ì˜¤ë¸Œì íŠ¸
            var xml = this.responseXML;

            // ARTIST íƒœê·¸ ë¦¬ìŠ¤íŠ¸ ê°€ì ¸ì˜¤ê¸°
            var artists = xml.getElementsByTagName("ARTIST");

            var txt = "<h3>Artist ëª©ë¡</h3>";
            for (var i = 0; i < artists.length; i++) {
              txt += artists[i].childNodes[0].nodeValue + "<br>";
            }

            document.getElementById("xmlResult").innerHTML = txt;
          }
        };

        xhttp.open("GET", "cd_catalog.xml", true);
        xhttp.send();
      }
    </script>

    <p class="box">
      ğŸ“Œ cd_catalog.xml í˜•ì‹ (PDF page 15â€“17)<br />
      &lt;CD&gt;<br />
      &nbsp;&nbsp;&lt;TITLE&gt;Empire Burlesque&lt;/TITLE&gt;<br />
      &nbsp;&nbsp;&lt;ARTIST&gt;Bob Dylan&lt;/ARTIST&gt;<br />
      &lt;/CD&gt;<br />
    </p>

    <!-- ================================================================= -->
    <!-- 9. XML ì „ì²´ í…Œì´ë¸”ë¡œ ì¶œë ¥í•˜ê¸° -->
    <!-- ================================================================= -->
    <h2>9. XMLì„ HTML í…Œì´ë¸” í˜•íƒœë¡œ ì¶œë ¥</h2>

    <button onclick="loadXMLTable()">XML í…Œì´ë¸” ë¡œë”©</button>
    <div id="xmlTable" class="box"></div>

    <script>
      function loadXMLTable() {
        var xhttp = new XMLHttpRequest();

        xhttp.onreadystatechange = function () {
          if (this.readyState == 4 && this.status == 200) {
            var xml = this.responseXML;
            var cds = xml.getElementsByTagName("CD");

            var table = "<table><tr><th>Title</th><th>Artist</th></tr>";

            for (var i = 0; i < cds.length; i++) {
              var title =
                cds[i].getElementsByTagName("TITLE")[0].childNodes[0].nodeValue;
              var artist =
                cds[i].getElementsByTagName("ARTIST")[0].childNodes[0]
                  .nodeValue;

              table += "<tr><td>" + title + "</td><td>" + artist + "</td></tr>";
            }

            table += "</table>";

            document.getElementById("xmlTable").innerHTML = table;
          }
        };

        xhttp.open("GET", "cd_catalog.xml", true);
        xhttp.send();
      }
    </script>

    <!-- ================================================================= -->
    <!-- END -->
    <!-- ================================================================= -->
  </body>
</html>
